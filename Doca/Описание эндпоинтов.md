# Описание эндпоинтов

## GET api/spell/{ru/en}/all 
Должен возвращять список JSON всех заклинаний формата

```
[
    { 
        name : "name"
        id : "id"
        scool : "school"
    },
]
```

## GET api/adeptus/{ru/en}/all
Должен возвращать список JSON всех способностей адепта

```
[
    { 
        name : "name"
        id : "id"
    },
]
```

## GET api/matrix/{ru/en}/all
Должен возвращать список JSON всех действий в матрице

```
{
    major :
    [
        { 
            name : "name",
            id : "id"
        },
    ],
    minor : 
    [
        {
            name : "name",
            id : "id"
        }
}
    ]
}
```

## GET api/spell/{ru/en}/id
Должен возвращать JSON формата

```
{ 
    name : "name"
    range : "range"
    duration : "duration"
    type: "type"
    dv : dv
    damage: "damage"
    description : "description"
    school : "school"
}
```

schema

```
CREATE TYPE spell_category AS ENUM ('COM', 'DET', 'HEAL', 'ILL', 'MAN');
CREATE TYPE spell_damage AS ENUM ('P', 'S', 'SPEC');
CREATE TYPE spell_duration AS ENUM ('I', 'S', 'L', 'P');
CREATE TYPE spell_range AS ENUM ('LOS', 'LOSA', 'TOUCH', 'SPEC');
CREATE TYPE spell_type AS ENUM ('P', 'M');

CREATE TABLE spell
(
    "id" INT NOT NULL GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    category spell_category NOT NULL,
    name_ru VARCHAR(256) NOT NULL,
    "range" spell_range NOT NULL,
    duration spell_duration NOT NULL,
    "type" spell_type NOT NULL,
    dv integer NOT NULL,
    damage spell_damage NOT NULL,
    description_ru text NOT NULL,
    description_en text NOT NULL,
    name_en VARCHAR(256) NOT NULL
)
```


## GET api/adeptus/{ru/en}/id
должен возвращать JSON формата
 
```
{
   name : "name"
   cost : "cost"
   activation : "activation"
   description : "description"
}
```

schema

```
CREATE TYPE adept_power_activation AS ENUM ('MIN', 'MAJ', 'PAS');

CREATE TABLE adept_power (
    "id" INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    name_ru VARCHAR(256) NOT NULL,
    name_en VARCHAR(256) NOT NULL,
    "cost" VARCHAR(256) NOT NULL,
    "activation" adept_power_activation NOT NULL,
    description_ru text NOT NULL,
    description_en text NOT NULL
)
```


## GET api/matrix/{ru/en}/id
должен возвращать JSON формата

```
{
   name : "name"
   acses : "acses"
   legal : "isLegal"
   check : "check"
   decription : "description"
   type : "type"
}
```

schema

```
CREATE TYPE matrix_action_access AS (
    "outsider" BOOLEAN,
    "user" BOOLEAN,
    "admin" BOOLEAN
);

CREATE TABLE matrix_action (
    "id" INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    "name_ru" VARCHAR(256) NOT NULL,
    "name_en" VARCHAR(256) NOT NULL,
    is_legal BOOLEAN NOT NULL,
    "access" matrix_action_access NOT NULL,
    "check_ru" VARCHAR(256) NOT NULL,
    "check_en" VARCHAR(256) NOT NULL,
    "description_ru" TEXT NOT NULL,
    "description_en" TEXT NOT NULL
)
```

